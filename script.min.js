const firebaseConfig={apiKey:"AIzaSyA2Y-_rfSHTSFb4oOSBzIXwW2CTFNF_jZY",authDomain:"msietez-global.firebaseapp.com",projectId:"msietez-global",storageBucket:"msietez-global.firebasestorage.app",messagingSenderId:"389248189010",appId:"1:389248189010:web:7e1acf9c02046f639f158b",measurementId:"G-ZWFBLBCGYR"};firebase.initializeApp(firebaseConfig);const db=firebase.firestore(),analytics=firebase.analytics();function openModal(){document.getElementById("distribuidorModal").style.display="flex"}function closeModal(){document.getElementById("distribuidorModal").style.display="none",setTimeout(()=>{document.getElementById("modal-step-form").style.display="block",document.getElementById("modal-step-success").style.display="none",document.getElementById("formB2B").reset();const btn=document.getElementById("btnSubmit");btn.disabled=!1,btn.innerText="Enviar Solicitud"},300)}document.getElementById("year").textContent=(new Date).getFullYear(),function(){var currentQuery=window.location.search,links;currentQuery&&document.querySelectorAll('a[href^="http"]').forEach((function(link){var currentHref=link.getAttribute("href"),separator=-1!==currentHref.indexOf("?")?"&":"?",paramsToAdd=currentQuery.substring(1);link.setAttribute("href",currentHref+separator+paramsToAdd)}))}(),window.onclick=function(e){e.target==document.getElementById("distribuidorModal")&&closeModal()},document.getElementById("formB2B").addEventListener("submit",(function(e){e.preventDefault();const btnSubmit=document.getElementById("btnSubmit");btnSubmit.disabled=!0,btnSubmit.innerText="Registrando...",db.collection("leads_b2b").add({propietario:document.getElementById("propietario").value,negocio:document.getElementById("negocio").value,whatsapp:document.getElementById("whatsapp").value,email:document.getElementById("email").value,ciudad:document.getElementById("ciudad").value,provincia:document.getElementById("provincia").value,marca:"gauss",fecha:new Date,origen:window.location.href}).then(docRef=>{console.log("Lead guardado con ID: ",docRef.id),document.getElementById("modal-step-form").style.display="none",document.getElementById("modal-step-success").style.display="block";const prop=document.getElementById("propietario").value,neg=document.getElementById("negocio").value,city=document.getElementById("ciudad").value,msj=`Hola, soy *${prop}* del negocio *${neg}* en ${city}. Ya llenÃ© el formulario para ser distribuidor.`,btnWa=document.getElementById("btnSuccessWa");btnWa.href=`https://wa.me/59177499928?text=${encodeURIComponent(msj)}`}).catch(error=>{console.error("Error al guardar: ",error),alert("Error: "+error.message),btnSubmit.disabled=!1,btnSubmit.innerText="Enviar Solicitud"})}));